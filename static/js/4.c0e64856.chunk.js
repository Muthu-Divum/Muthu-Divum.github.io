(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{236:function(t,e,a){"use strict";a.r(e),a.d(e,"COMMON_ERROR_MSG",function(){return n}),a.d(e,"SELLER_ID",function(){return r}),a.d(e,"BUYER_ID",function(){return o}),a.d(e,"RECEIPT_ID",function(){return s}),a.d(e,"CREATE_PROPOSAL",function(){return i}),a.d(e,"ACCEPT_PROPOSAL",function(){return c}),a.d(e,"REJECT_PROPOSAL",function(){return l}),a.d(e,"SEND_INVOICE",function(){return d}),a.d(e,"ACCEPT_PAYMENT",function(){return u}),a.d(e,"REJECT_PAYMENT",function(){return h}),a.d(e,"CREATE_RECEIPT",function(){return m}),a.d(e,"CANCEL_RECEIPT",function(){return p}),a.d(e,"ROLE",function(){return b}),a.d(e,"SELLER",function(){return f}),a.d(e,"BUYER",function(){return v}),a.d(e,"setRole",function(){return k}),a.d(e,"Receiptscolumns",function(){return E}),a.d(e,"Receiptsdata",function(){return y}),a.d(e,"REACT_LINE_CHART_DATA1",function(){return g}),a.d(e,"REACT_BAR_CHART_DATA",function(){return x}),a.d(e,"REACT_PIE_CHART",function(){return O}),a.d(e,"listcolumns",function(){return S}),a.d(e,"BlockTablecolumns",function(){return T}),a.d(e,"BlockListcolumns",function(){return D}),a.d(e,"TransactionTablecolumns",function(){return I}),a.d(e,"TRANSACTION_BAR_GRAPH_KEY_SET",function(){return N}),a.d(e,"NIVO_BAR_CHART",function(){return _}),a.d(e,"NIVO_LINE_CHART",function(){return C}),a.d(e,"NIVO_PIE_CHART",function(){return R}),a.d(e,"blocks",function(){return j}),a.d(e,"transactionDetailColumn",function(){return A}),a.d(e,"blockDetailColumn",function(){return P}),a.d(e,"LINE_CHART_LEGENDS_PROPERTY",function(){return B}),a.d(e,"transInfoColumn",function(){return L}),a.d(e,"blockInfoColumn",function(){return w}),a.d(e,"DETAIL_PAGE_RESPONSE_DATA",function(){return G}),a.d(e,"RIGHT_MARGIN",function(){return M}),a.d(e,"RIGHT_MARGIN_MOBILE_VIEW",function(){return F}),a.d(e,"LATEST_BLOCK_NO",function(){return H}),a.d(e,"setBlockCount",function(){return W}),a.d(e,"nodeData",function(){return U}),a.d(e,"APIDocsColumns",function(){return Y}),a.d(e,"ParamLogsColumns",function(){return K}),a.d(e,"dgraphlogsColumns",function(){return V}),a.d(e,"queryHistory",function(){return $}),a.d(e,"dGraphHealth",function(){return z}),a.d(e,"composerOrder",function(){return X}),a.d(e,"composerPeer",function(){return J}),a.d(e,"paramHealthcheck",function(){return q}),a.d(e,"graphNodes",function(){return Z});var n="Something went wrong, plese try again",r="seller@divum",o="divum@divum",s="divum@divum-seller@divum-1543569857403",i="initiateProposal",c="acceptProposal",l="rejectProposal",d="sendInvoice",u="paymentSuccess",h="paymentFail",m="createReceipt",p="cancelReceipt",b="",f="Seller",v="Buyer";function k(t){b=t}var E=[{title:"Block No",dataIndex:"block",key:"block"},{title:"ReceiptId",dataIndex:"receiptid",key:"receiptid"},{title:"Transaction Hash",dataIndex:"hash",key:"hash"}],y=[{key:"1",block:"1001456756",receiptid:1,hash:"110xasdas123123sadasd",tags:["nice","developer"]},{key:"2",block:"1001456756",receiptid:1,hash:"110xasdas123123sadasd",tags:["loser"]},{key:"3",block:"1001456756",receiptid:1,hash:"110xasdas123123sadasd",tags:["cool","teacher"]}],g=[{key:"INIT PROPOSAL",values:[{x:"1",y:1},{x:"2",y:20},{x:"3",y:15},{x:"4",y:27},{x:"5",y:4},{x:"6",y:20}]},{key:"PO",values:[{x:"1",y:5},{x:"2",y:17},{x:"3",y:11},{x:"4",y:20},{x:"5",y:25},{x:"6",y:2}]},{key:"INOVICE",values:[{x:"1",y:7},{x:"2",y:11},{x:"3",y:22},{x:"4",y:2},{x:"5",y:11},{x:"6",y:22}]},{key:"PAYMENT",values:[{x:"1",y:10},{x:"2",y:3},{x:"3",y:5},{x:"4",y:13},{x:"5",y:17},{x:"6",y:8}]},{key:"RECEIPTS",values:[{x:"1",y:25},{x:"2",y:8},{x:"3",y:17},{x:"4",y:7},{x:"5",y:15},{x:"6",y:17}]}],x=[{key:"TRANSACTIONS",values:[{x:"A",y:23},{x:"B",y:8},{x:"C",y:8},{x:"D",y:8},{x:"E",y:8}]}],O=[{label:"Group 1",value:23},{label:"Group 2",value:15}],S=[{title:"Tx#",dataIndex:"txnNo",className:"txnoverflow"},{title:"Type",dataIndex:"type"},{title:"Participant",dataIndex:"participant",className:"mobilehide"}],T=[{title:"Block No",dataIndex:"blockno"},{title:"Transactions",dataIndex:"transaction"},{title:"Date",dataIndex:"date"}],D=[{title:"Block No",dataIndex:"blockno"},{title:"Transactions",dataIndex:"transaction",className:"txnoverflow"},{title:"Data#",dataIndex:"headerdata",className:"txnoverflow mobilehide"},{title:"Prev#",dataIndex:"headerprev",className:"txnoverflow mobilehide"},{title:"Date",dataIndex:"date"}],I=[{title:"Transaction",dataIndex:"txnNo",className:"txnoverflow"},{title:"Type",dataIndex:"type",className:"mobilehide"},{title:"Participant",dataIndex:"participant",className:"mobilehide"}],N=["Date","count"],_=[{Date:"20/11/18",count:117,DateColor:"hsl(16, 70%, 50%)"},{Date:"21/11/18",count:55,DateColor:"hsl(230, 30%, 50%)"},{Date:"22/11/18",count:188,DateColor:"hsl(355, 70%, 50%)"},{Date:"23/11/18",count:46,DateColor:"hsl(295, 70%, 50%)"},{Date:"24/11/18",count:70,DateColor:"hsl(58, 70%, 50%)"},{Date:"25/11/18",count:199,DateColor:"hsl(39, 70%, 50%)"},{Date:"26/11/18",count:10,DateColor:"hsl(339, 70%, 50%)"}],C=[{id:"INIT PROPOSAL",color:"hsl(3, 70%, 50%)",data:[{date:"21/11/18",y:158},{x:"22/11/18",y:258},{x:"23/11/18",y:295},{x:"24/11/18",y:265},{x:"25/11/18",y:26},{x:"26/11/18",y:45},{x:"27/11/18",y:46}]},{id:"PO",color:"hsl(220, 70%, 50%)",data:[{x:"21/11/18",y:170},{x:"22/11/18",y:20},{x:"23/11/18",y:92},{x:"24/11/18",y:13},{x:"25/11/18",y:179},{x:"26/11/18",y:5},{x:"27/11/18",y:95}]},{id:"INVOICE",color:"hsl(18, 70%, 50%)",data:[{x:"21/11/18",y:81},{x:"22/11/18",y:137},{x:"23/11/18",y:47},{x:"24/11/18",y:41},{x:"25/11/18",y:21},{x:"26/11/18",y:105},{x:"27/11/18",y:38}]},{id:"PAYMENT",color:"hsl(43, 70%, 50%)",data:[{x:"21/11/18",y:69},{x:"22/11/18",y:70},{x:"23/11/18",y:28},{x:"24/11/18",y:252},{x:"25/11/18",y:73},{x:"26/11/18",y:190},{x:"27/11/18",y:269}]},{id:"RECEIPT",color:"hsl(118, 70%, 50%)",data:[{x:"21/11/18",y:262},{x:"22/11/18",y:206},{x:"23/11/18",y:109},{x:"24/11/18",y:34},{x:"25/11/18",y:22},{x:"26/11/18",y:171},{x:"27/11/18",y:181}]}],R=[{id:"javascript",label:"javascript",value:143,color:"hsl(8, 70%, 50%)"},{id:"haskell",label:"haskell",value:160,color:"hsl(35, 70%, 50%)"},{id:"make",label:"make",value:180,color:"hsl(230, 70%, 50%)"},{id:"go",label:"go",value:349,color:"hsl(181, 70%, 50%)"},{id:"css",label:"css",value:16,color:"hsl(220, 70%, 50%)"}],j={code:200,obj:{header:{number:"435",previous_hash:"4191f5d29b3a3e736cbc6543c17f81c160f11dbbf18be0d7cae3ebce23175509",data_hash:"4dafa88a83ace7dad982ffcbbfd8a46127d73aa597382e8a34482b4a6bcfdb10"},data:{data:{payload:{header:{channel_header:{type:3,version:1,timestamp:"Mon Nov 26 2018 19:47:21 GMT+0530 (IST)",channel_id:"composerchannel",tx_id:"3bd8f0c6556526bff6e937d6debe448f75846cd7ab07bb2bb8ed60e095f00ede",epoch:"0",extension:{type:"Buffer",data:[18,7,18,5,112,97,114,97,109]},typeString:"ENDORSER_TRANSACTION"}}}}}}},A=[{title:"Buyer",dataIndex:"buyer",className:"mobilehide"},{title:"Seller",dataIndex:"seller",className:"mobilehide"},{title:"Receipt",dataIndex:"rId"},{title:"Step",dataIndex:"step",className:"mobilehide"},{title:"Status",dataIndex:"status"}],P=[{title:"Txn#",dataIndex:"txnNo"},{title:"Date",dataIndex:"date"}],B=[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],L=[{title:"",dataIndex:"headerkey",className:"mobilehide"},{title:"",dataIndex:"value"}],w=[{title:"headerKey",dataIndex:"headerkey",className:"mobilehide"},{title:"value",dataIndex:"value",className:"certificate"}],G={code:200,res:{info:"Success for ParamReceipt details",obj:{$class:"param.network.model.ParamReceipt",receiptId:"divum@divum-seller@divum-1543310870015",jsonLd:"123123",step:"CREATE_PO",status:"ACCEPT_PROPOSAL_AND_CREATE_PO",transactions:[{$class:"param.network.model.ParamTransaction",id:"seller@divum-4c0772e0821ee605ebcf7cacd7d281c1e92109a1b5cde8241576b82aa189efea",receiptId:"divum@divum-seller@divum-1543310870015",transactionId:"4c0772e0821ee605ebcf7cacd7d281c1e92109a1b5cde8241576b82aa189efea",transDate:"2018-11-27T09:27:49.667Z",step:"INIT_PROPOSAL",status:"INIT_PROPOSAL",createdBy:{$class:"param.network.model.Person",id:"seller@divum",orgName:"divum",contactName:"divum"}},{$class:"param.network.model.ParamTransaction",id:"divum@divum-421712e0a6381239113b50d697582e5602b08fe4071d9a7089f0c76dc9d87861",receiptId:"divum@divum-seller@divum-1543310870015",transactionId:"421712e0a6381239113b50d697582e5602b08fe4071d9a7089f0c76dc9d87861",transDate:"2018-11-28T11:40:11.076Z",step:"CREATE_PO",status:"ACCEPT_PROPOSAL_AND_CREATE_PO",createdBy:{$class:"param.network.model.Person",id:"divum@divum",orgName:"divum",contactName:"divum"}}],seller:{$class:"param.network.model.Seller",role:"Editor",id:"seller@divum",orgName:"divum",contactName:"divum"},buyer:{$class:"param.network.model.Buyer",id:"divum@divum",orgName:"divum",contactName:"divum"}}}},M=125,F=30,H=0;function W(t){H=t}var U={content:{node:[{type:"Invoice",id:"0x150fa"}]}},Y=[{title:"",dataIndex:"key",className:"mobilehide"},{title:"",dataIndex:"value"}],K=[{title:"Date",dataIndex:"timestamp"},{title:"Level",dataIndex:"level",className:"customwidth",filters:[{text:"Error",value:"error"},{text:"Warning",value:"warning"},{text:"Info",value:"info"},{text:"Debugger",value:"debugger"}],onFilter:function(t,e){return e.level===t}},{title:"Module",dataIndex:"label",className:"customwidth mobilehide"},{title:"Message",dataIndex:"message"}],V=[{title:"Date",dataIndex:"time",className:"customwidth"},{title:"Level",dataIndex:"level",className:"customwidth",filters:[{text:"Error",value:"ERROR"},{text:"Warning",value:"WARNING"},{text:"Info",value:"INFO"},{text:"Debugger",value:"DEBUGGER"}],onFilter:function(t,e){return e.level===t}},{title:"File",dataIndex:"file",className:"customwidth mobilehide"},{title:"Thread",dataIndex:"thread",className:"customwidth mobilehide"},{title:"Message",dataIndex:"message"}],$=[{title:"Query",dataIndex:"query"}],z=[{title:"Name",dataIndex:"name"},{title:"Alias",dataIndex:"alias",className:"mobilehide"},{title:"Url",dataIndex:"url",className:"mobilehide"},{title:"Status",dataIndex:"status"}],X=[{title:"Name",dataIndex:"name"},{title:"Url",dataIndex:"url"}],J=[{title:"mspid",dataIndex:"mspid"},{title:"ChannelName",dataIndex:"channelName"},{title:"PeerName",dataIndex:"peerName"}],q=[{title:"Url",dataIndex:"url"},{title:"Status",dataIndex:"status"}],Z=[{type:"Invoice",id:"0x1",name:"16977"},{type:"Invoice",id:"0x17",name:"16973"},{type:"Invoice",id:"0x2c",name:"17000"},{type:"Invoice",id:"0x41",name:"16981"},{type:"Invoice",id:"0x56",name:"16953"},{type:"Invoice",id:"0x6b",name:"17027"},{type:"Invoice",id:"0x81",name:"17029"},{type:"Invoice",id:"0x96",name:"17034"},{type:"Invoice",id:"0xab",name:"16956"},{type:"Invoice",id:"0xc0",name:"16947"},{type:"Invoice",id:"0xd5",name:"16970"}]},239:function(t,e,a){"use strict";var n=a(28),r=a(29),o=a(31),s=a(30),i=a(32),c=a(1),l=a.n(c),d=a(34),u=a(453),h=(a(244),l.a.createElement(d.a,{type:"loading",style:{fontSize:30},spin:!0})),m=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return l.a.createElement("div",{className:"loader"},l.a.createElement(u.a,{indicator:h}))}}]),e}(c.Component);e.a=m},244:function(t,e,a){},247:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"d",function(){return r}),a.d(e,"b",function(){return l}),a.d(e,"a",function(){return d});var n,r,o=a(291),s=a.n(o),i=new(0,a(297).EventEmitter),c=a(15);function l(){n=s()(c.BASE_URL_WEB_SOCKET,{transports:["websocket"]}),r=n.connect(),n.on("block",function(t){i.emit("block",t)}),n.on("dashboard",function(t){i.emit("dashboard",t)}),n.on("chart",function(t){i.emit("chart",t)}),n.on("transactionInfo",function(t){i.emit("transactionInfo",t)})}function d(){return n=s()(c.BASE_URL_WEB_SOCKET,{transports:["websocket"]}),r=n.connect()}},248:function(t,e,a){"use strict";var n=a(28),r=a(29),o=a(31),s=a(30),i=a(32),c=a(1),l=a.n(c),d=a(834),u=(a(249),function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return l.a.createElement("div",{className:"breadcrumb"},l.a.createElement(d.a,null,this.props.breadcrumbData.map(function(t){return l.a.createElement(d.a.Item,null,t.name)},this)))}}]),e}(l.a.Component));e.a=u},249:function(t,e,a){},253:function(t,e,a){"use strict";a.d(e,"d",function(){return r}),a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i}),a.d(e,"e",function(){return c}),a.d(e,"c",function(){return d}),a.d(e,"f",function(){return u});a(236);var n=[{color:"hsl(8,67%,82%)"},{color:"hsl(2,100%,67%)"},{color:"hsl(17,81%,72%)"},{color:"hsl(11,84%,65%)"},{color:"hsl(48,65%,63%)"}];function r(t){switch(t){case 0:return"INIT PROPOSAL";case 1:return"CREATE PO";case 2:return"SEND INVOICE";case 3:return"PAYMENT";case 4:return"RECEIPT";default:return}}function o(t){var e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();return e<10&&(e=e),a<10&&(a=a),t=n+"-"+a+"-"+e}function s(){for(var t=[],e=0;e<7;e++){var a=new Date;a.setDate(a.getDate()-e),t.push(o(a))}return t}function i(t){return n[t]}function c(t){for(var e=t.length;e<5;e++){var a={id:"-",receiptId:"-",transactionId:"-",step:r(e),status:"-"};t.push(a)}return t}var l=["INIT_PROPOSAL","CREATE_PO","SEND_INVOICE","MAKE_PAYMENT","CREATE_RECEIPT","CANCEL"];function d(t){var e=l.indexOf(t);return e<0?0:e}var u=function(){document.getElementsByClassName("ui-container")[0].scrollTo(0,0)}},296:function(t,e){},454:function(t,e,a){},555:function(t,e,a){},557:function(t,e,a){},559:function(t,e,a){},651:function(t,e,a){},691:function(t,e,a){},693:function(t,e,a){},695:function(t,e,a){},697:function(t,e,a){},699:function(t,e,a){},701:function(t,e,a){},829:function(t,e,a){"use strict";a.r(e);var n=a(28),r=a(29),o=a(31),s=a(30),i=a(32),c=a(1),l=a.n(c),d=a(820),u=a(102),h=(a(454),a(8)),m=a(5),p=a(99),b=a(841),f=a(826),v=a(10),k=a(236),E=v.a.getBlockTransaction,y=function(t){function e(){var t,a;Object(n.a)(this,e);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(i)))).getUrlParam=function(t){var e;return window.location.href.indexOf(t)>-1&&(e=a.getUrlVars()[t]),e},a.getUrlVars=function(){var t={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,n){t[a]=n}),t},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.getUrlParam("id"),this.props.getBlockTransaction()}},{key:"componentWillReceiveProps",value:function(t){}},{key:"render",value:function(){return l.a.createElement("div",{className:"blocks-details"},l.a.createElement("h2",null,"Receipt Details"),l.a.createElement(b.a,null,l.a.createElement(f.a,{dataSource:k.listdata,columns:k.listcolumns,pagination:!1})))}}]),e}(l.a.Component);var g=Object(p.b)(function(t){return Object(m.a)({},t,{blockTransactions:t.blockExplorer.Blocktransaction})},{getBlockTransaction:E})(Object(d.a)(y)),x=a(239),O=a(247),S=a(253),T=(a(555),a(236)),D=v.a.getTransactions,I=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).selectedTransaction=function(t){var e=[];for(var n in t.event){var r=""+t.event[n].buyer,o=""+t.event[n].seller,s=r.split("#")[1],i=o.split("#")[1];e.push({key:n,buyer:s,seller:i,rId:t.event[n].receiptId,step:t.event[n].step,status:t.event[n].status})}a.props.history.push(h.a.TRANSACTION_DETAILS+"?txn="+t.txnNo,{selectedTransData:JSON.stringify(e),transactionDetails:t}),S.f()},a.onChangePage=function(t){a.setState({currentpage:t}),a.props.getTransactions(t),S.f()},a.state={loading:!1,transactions:[],currentpage:1},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var t=this;O.c.addListener("transactionInfo",function(e){t.fetchWebSocketData(e)}),this.props.getTransactions()}},{key:"fetchWebSocketData",value:function(t){if(1===this.state.currentpage){var e=this.state.transactions,a=[],n=(""+t.transactions.obj.transactionType).split("."),r=(""+t.transactions.obj.participantInvoking).split("#")[1];for(var o in a.push({key:0,txnNo:t.transactions.obj.transactionId,type:n[n.length-1],participant:r||"-",event:t.transactions.obj.eventsEmitted,others:t.transactions.obj}),e.splice(0,0,a[0]),e)e[o].key=o;void 0!==a&&this.setState({transactions:a},function(){})}else this.onChangePage(1)}},{key:"componentWillReceiveProps",value:function(t){if(t&&t.transactions&&t.transactions!==this.props.transactions){var e=[];for(var a in t.transactions.obj){var n=(""+t.transactions.obj[a].transactionType).split("."),r=(""+t.transactions.obj[a].participantInvoking).split("#")[1];e.push({key:a,txnNo:t.transactions.obj[a].transactionId,type:n[n.length-1],participant:r||"-",event:t.transactions.obj[a].eventsEmitted,others:t.transactions.obj[a]})}void 0!==e&&this.setState({transactions:e},function(){}),this.setState({loading:!1})}}},{key:"render",value:function(){var t=this;return l.a.createElement("div",{className:"blocks-details transaction-list"},l.a.createElement("h2",{className:"heading-primary"},"Transactions"),l.a.createElement(b.a,null,this.state.loading?l.a.createElement(x.a,null):l.a.createElement("div",null,l.a.createElement(f.a,{className:"transaction-list__listTable",dataSource:this.state.transactions,columns:T.listcolumns,onRow:function(e){return{onClick:function(){t.selectedTransaction(e)}}}}))))}}]),e}(l.a.Component);var N=Object(p.b)(function(t){return Object(m.a)({},t,{transactions:t.blockExplorer.Transactions})},{getTransactions:D})(Object(d.a)(I)),_=a(838),C=(a(557),function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.title,n=e.count,r=e.number,o=this.props.onClick?"custom-box custom-box-hover":"custom-box";return l.a.createElement("div",{className:o,onClick:function(){return t.props.onClick(n,r)}},l.a.createElement("h2",null,a),n&&void 0!==n?(this.props.onClick,l.a.createElement("p",null,n)):l.a.createElement("p",null,"Loading.."))}}]),e}(l.a.Component)),R=Object(d.a)(C),j=(a(559),v.a.getDashboardStatus),A=v.a.getBlockTransaction,P=a(236),B=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).viewStatusDetails=function(t){a.props.history.push(h.a.TRANSACTION_DETAILS+"?txn="+t)},a.latestBlockDetails=function(t,e){a.props.history.push(h.a.BLOCKDETAIL+"?block="+e)},a.state={loading:!1,DashboardStatus:{}},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),P.setBlockCount(0),this.props.getDashboardStatus();var t=this;O.c.addListener("dashboard",function(e){t.fetchWebSocketData(e)})}},{key:"componentWillReceiveProps",value:function(t){t&&t.dashboardStatus&&t.dashboardStatus!==this.props.dashboardStatus&&(this.setState({DashboardStatus:t.dashboardStatus},function(){}),P.setBlockCount(t.dashboardStatus.obj.latestBlock.number),this.setState({loading:!1}))}},{key:"fetchWebSocketData",value:function(t){t&&t.res&&(this.setState({DashboardStatus:t.res},function(){}),P.setBlockCount(t.res.obj.latestBlock.number),this.setState({loading:!1}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"status-count"},l.a.createElement(b.a,{gutter:16},l.a.createElement(_.a,{className:"gutter-row",md:6,sm:6,xs:24,span:6},l.a.createElement("div",{className:"gutter-box u_cursor_pointer"},l.a.createElement(R,{title:"Genesis Block",onClick:this.latestBlockDetails,number:0,count:this.state.DashboardStatus.obj&&this.state.DashboardStatus.obj.genesisBlock?this.state.DashboardStatus.obj.genesisBlock.data_hash:null}))),l.a.createElement(_.a,{className:"gutter-row",md:6,sm:6,xs:24,span:6},l.a.createElement("div",{className:"gutter-box u_cursor_pointer"},l.a.createElement(R,{title:"Latest Tx#",onClick:this.viewStatusDetails,number:"",count:this.state.DashboardStatus.obj&&this.state.DashboardStatus.obj.lastTransHash?this.state.DashboardStatus.obj.lastTransHash:null}))),l.a.createElement(_.a,{className:"gutter-row",md:6,sm:6,xs:24,span:6},l.a.createElement("div",{className:"gutter-box u_cursor_pointer"},l.a.createElement(R,{title:"Latest Block",onClick:this.latestBlockDetails,number:this.state.DashboardStatus.obj&&this.state.DashboardStatus.obj.latestBlock?this.state.DashboardStatus.obj.latestBlock.number:null,count:this.state.DashboardStatus.obj&&this.state.DashboardStatus.obj.latestBlock?this.state.DashboardStatus.obj.latestBlock.data_hash:null}))),l.a.createElement(_.a,{className:"gutter-row",md:6,sm:6,xs:24,span:6},l.a.createElement("div",{className:"gutter-box"},l.a.createElement(R,{title:"Chain Code",number:"",count:this.state.DashboardStatus.obj&&this.state.DashboardStatus.obj.chainCode?this.state.DashboardStatus.obj.chainCode:null})))))}}]),e}(l.a.Component);var L=Object(p.b)(function(t){return Object(m.a)({},t,{dashboardStatus:t.blockExplorer.DashboardStatus,blockTransactionDetails:t.blockExplorer.Blocktransaction})},{getDashboardStatus:j,getBlockTransaction:A})(Object(d.a)(B)),w=a(308),G=a(280),M=a(278),F=a.n(M),H=a(561),W=(a(651),function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).state={loading:!0,transactionGraph:a.props.dataSet,keys:a.props.keySet},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentWillReceiveProps",value:function(t){t.dataSet!==this.state.transactionGraph&&this.setState({transactionGraph:t.dataSet}),t.keySet!==this.state.keys&&this.setState({keys:t.keySet})}},{key:"render",value:function(){return l.a.createElement("div",{className:"graphParent"},l.a.createElement(H.ResponsiveBar,{data:this.state.transactionGraph,keys:this.state.keys,indexBy:"Date",margin:{top:20,right:20,bottom:80,left:60},padding:.3,colors:"paired",colorBy:"id",borderColor:"inherit:darker(1.6)",axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:90,legend:"",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendPosition:"middle",legendOffset:-40},labelSkipWidth:5,labelSkipHeight:12,labelTextColor:"inherit:darker(1.6)",animate:!0,motionStiffness:90,motionDamping:15,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,effects:[{on:"hover",style:{itemOpacity:1}}]}]}))}}]),e}(c.Component)),U=a(653),Y=(a(691),a(236)),K=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).updateDimensions=function(){a.getDimensions().width<728?a.setState({graphLegendProperty:[],rightMargin:Y.RIGHT_MARGIN_MOBILE_VIEW}):a.setState({graphLegendProperty:Y.LINE_CHART_LEGENDS_PROPERTY,rightMargin:Y.RIGHT_MARGIN})},a.state={transactionGraph:a.props.dataSet,graphLegendProperty:Y.LINE_CHART_LEGENDS_PROPERTY,rightMargin:Y.RIGHT_MARGIN},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"getDimensions",value:function(){var t=window,e=document,a=e.documentElement,n=e.getElementsByTagName("body")[0];return{width:t.innerWidth||a.clientWidth||n.clientWidth,height:t.innerHeight||a.clientHeight||n.clientHeight}}},{key:"componentWillReceiveProps",value:function(t){t.dataSet!==this.state.transactionGraph&&this.setState({transactionGraph:t.dataSet})}},{key:"render",value:function(){return l.a.createElement("div",{className:"graphParent"},l.a.createElement(U.ResponsiveLine,{data:this.state.transactionGraph,margin:{top:20,right:this.state.rightMargin,bottom:80,left:50},xScale:{type:"point"},yScale:{type:"linear",stacked:!1,min:"auto",max:"auto"},curve:"monotoneX",colors:"nivo",minY:"auto",maxY:"auto",stacked:!0,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:90,legend:"",legendOffset:16,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendOffset:-40,legendPosition:"middle"},enableDotLabel:!1,dotSize:10,dotColor:"inherit:darker(0.3)",dotBorderWidth:2,dotBorderColor:"#ffffff",dotLabel:"y",dotLabelYOffset:-12,animate:!0,motionStiffness:90,motionDamping:15,legends:this.state.graphLegendProperty}))}}]),e}(l.a.Component),V=Object(d.a)(K),$=(a(693),v.a.getTransactionData),z=v.a.getBlocks,X=v.a.getTransactions,J=v.a.getTransactionsGraph,q=v.a.getChainTransaction,Z=a(236),Q=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).selectedBlock=function(t){a.props.history.push(h.a.BLOCKDETAIL+"?block="+t.blockno,{selectedRecord:t}),S.f()},a.selectedTransaction=function(t){var e=[];for(var n in t.event){var r=""+t.event[n].buyer,o=""+t.event[n].seller,s=r.split("#")[1],i=o.split("#")[1];e.push({key:n,buyer:s,seller:i,rId:t.event[n].receiptId,step:t.event[n].step,status:t.event[n].status,class:t.event[n].$class})}a.props.history.push(h.a.TRANSACTION_DETAILS+"?txn="+t.txnNo,{transactionDetails:t}),S.f()},a.viewAllBlocks=function(){a.props.history.push(h.a.BLOCKLIST,{blockData:a.state.blocksData}),S.f()},a.viewAllTransaction=function(){a.props.history.push(h.a.TRANSACTIONS,{transData:a.state.transactions}),S.f()},a.state={loadingForBlock:!1,loadingForGraph:!1,loadingForTransaction:!1,blocksData:[],transactions:[],chaintransactions:[],transactionBarChart:[],transactionLineChart:[]},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.setState({loadingForBlock:!0,loadingForGraph:!0,loadingForTransaction:!0});var t=this;O.c.addListener("block",function(e){t.fetchWebSocketData(e)}),O.c.addListener("chart",function(e){t.fetchSocketChartData(e)}),O.c.addListener("transactionInfo",function(e){t.fetchSocketTransactionData(e)}),O.c.addListener("paramLogs",function(t){}),this.props.getBlocks(),this.props.getTransactions(),this.props.getTransactionsGraph()}},{key:"fetchWebSocketData",value:function(t){var e=[],a=[];for(var n in t.res.data.data)a.push({key:n,txnNo:t.res.data.data[n].payload.header.channel_header.tx_id,date:F()(t.res.data.data[n].payload.header.channel_header.timeStamp).startOf("day").fromNow()});e.push({key:0,blockno:t.res.header.number,transaction:t.res.data.data.length,headerprev:t.res.header.previous_hash,headerdata:t.res.header.data_hash,date:F()(t.res.data.data[0].payload.header.channel_header.timeStamp).startOf("day").fromNow(),detail:a,others:t.res});var r=this.state.blocksData;for(var o in r.splice(0,0,e[0]),r)r[o].key=o;void 0!==e&&this.setState({blocksData:r},function(){})}},{key:"fetchSocketChartData",value:function(t){for(var e=t.res.transactionChart,a=[],n=0;n<e.length;n++){var r={Date:e[n].date,count:e[n].counts,DateColor:"hsl(16, 70%, 50%)"};a.push(r)}S.a().forEach(function(t){a.some(function(e){return e.Date===t})||a.push({Date:t,counts:0,DateColor:"hsl(16, 70%, 50%)"})}),a.sort(function(t,e){var a=new Date(t.Date),n=new Date(e.Date);return a<n?-1:a>n?1:0});for(var o,s=t.res.step,i=[],c=0;c<s.length;c++){var l={id:s[c].id,color:S.b(c).color,data:s[c].data};i.push(l)}i.forEach(function(t){o=S.a(),t.data.forEach(function(t){o.splice(o.indexOf(t.x),1)}),o.forEach(function(e){t.data.push({x:e,y:0})})});for(var d=0;d<i.length;d++)i[d].data.sort(function(t,e){var a=new Date(t.x),n=new Date(e.x);return a<n?-1:a>n?1:0});i.reverse(),this.setState({transactionBarChart:a,transactionLineChart:i}),this.setState({loadingForGraph:!1})}},{key:"fetchSocketTransactionData",value:function(t){if(t&&t.res&&t.res.obj){var e=[],a=(""+t.res.obj.transactionType).split("."),n=(""+t.res.obj.participantInvoking).split("#")[1];e.push({key:0,txnNo:t.res.obj.transactionId,type:a[a.length-1],participant:n||"-",event:t.res.obj.eventsEmitted,others:t.res.obj});var r=this.state.transactions;for(var o in r.splice(0,0,e[0]),r)r[o].key=o;void 0!==e&&this.setState({transactions:r},function(){}),this.setState({loadingForTransaction:!1})}}},{key:"componentWillReceiveProps",value:function(t){if(t&&t.blocks&&t.blocks!==this.props.blocks){var e=[];if("GET_BLOCKS_ERROR_RESULT"!==t.blocks.type)for(var a in t.blocks){var n=[];for(var r in t.blocks[a].data.data)n.push({key:r,txnNo:t.blocks[a].data.data[r].payload.header.channel_header.tx_id,date:F()(t.blocks[a].data.data[r].payload.header.channel_header.timeStamp).startOf("day").fromNow()});e.push({key:a,blockno:t.blocks[a].header.number,transaction:t.blocks[a].data.data.length,headerprev:t.blocks[a].header.previous_hash,headerdata:t.blocks[a].header.data_hash,date:F()(t.blocks[a].data.data[0].payload.header.channel_header.timeStamp).startOf("day").fromNow(),detail:n,others:t.blocks[a]}),void 0!==e&&this.setState({blocksData:e},function(){}),this.setState({loadingForBlock:!1})}else this.setState({loadingForBlock:!1}),w.a.error("Block API Failed")}if(t&&t.transactionGraph&&t.transactionGraph!==this.props.transactionGraph)if("GET_TRANSACTION_GRAPH_ERROR_RESULT"!==t.transactionGraph.type){if(void 0!==t.transactionGraph.transactionChart){for(var o=t.transactionGraph.transactionChart,s=[],i=0;i<o.length;i++){var c={Date:o[i].date,count:o[i].counts,DateColor:"hsl(16, 70%, 50%)"};s.push(c)}S.a().forEach(function(t){s.some(function(e){return e.Date===t})||s.push({Date:t,counts:0,DateColor:"hsl(16, 70%, 50%)"})}),s.sort(function(t,e){var a=new Date(t.Date),n=new Date(e.Date);return a<n?-1:a>n?1:0});var l=t.transactionGraph.step,d=[];for(i=0;i<l.length;i++){var u={id:l[i].id,color:S.b(i).color,data:l[i].data};S.a().forEach(function(t){s.some(function(e){return e.Date===t})||s.push({Date:t,counts:0,DateColor:"hsl(16, 70%, 50%)"})}),s.sort(function(t,e){var a=new Date(t.Date),n=new Date(e.Date);return a<n?-1:a>n?1:0});var h;for(l=t.transactionGraph.step,d=[],i=0;i<l.length;i++){u={id:l[i].id,color:S.b(i).color,data:l[i].data};d.push(u)}d.forEach(function(t){h=S.a(),t.data.forEach(function(t){h.splice(h.indexOf(t.x),1)}),h.forEach(function(e){t.data.push({x:e,y:0})})});for(var m=0;m<d.length;m++)d[m].data.sort(function(t,e){var a=new Date(t.x),n=new Date(e.x);return a<n?-1:a>n?1:0});d.reverse(),this.setState({transactionBarChart:s,transactionLineChart:d})}d.reverse(),this.setState({transactionBarChart:s,transactionLineChart:d}),this.setState({loadingForGraph:!1})}}else this.setState({loadingForGraph:!1}),w.a.error("Chart API Failed");if(t&&t.transactions&&t.transactions!==this.props.transactions)if("GET_TRANSACTION_ERROR_RESULT"!==t.transactions.type){var p=[];for(var a in t.transactions.obj){var b=(""+t.transactions.obj[a].transactionType).split("."),f=(""+t.transactions.obj[a].participantInvoking).split("#")[1];p.push({key:a,txnNo:t.transactions.obj[a].transactionId,type:b[b.length-1],participant:f||"-",event:t.transactions.obj[a].eventsEmitted,others:t.transactions.obj[a]})}void 0!==p&&this.setState({transactions:p},function(){}),this.setState({loadingForTransaction:!1})}else this.setState({loadingForTransaction:!1}),w.a.error("Transaction API Failed")}},{key:"render",value:function(){var t=this;return l.a.createElement("div",{className:"gutter-example"},l.a.createElement(b.a,{gutter:16,className:"blockexplorer__chartrow"},l.a.createElement(_.a,{className:"gutter-row",lg:11,md:24,sm:24,xs:24},l.a.createElement("div",{className:"gutter-box blockexplorer__chart"},this.state.loadingForGraph?l.a.createElement(x.a,null):this.state.transactionLineChart.length?l.a.createElement(V,{dataSet:this.state.transactionLineChart}):null)),l.a.createElement(_.a,{className:"gutter-row",lg:1,xs:24}),l.a.createElement(_.a,{className:"gutter-row",lg:11,md:24,sm:24,xs:24},l.a.createElement("div",{className:"gutter-box blockexplorer__chart"},this.state.loadingForGraph?l.a.createElement(x.a,null):this.state.transactionBarChart.length?l.a.createElement(W,{dataSet:this.state.transactionBarChart,keySet:Z.TRANSACTION_BAR_GRAPH_KEY_SET}):null))),l.a.createElement(b.a,{gutter:16,className:"blockexplorer__blockTransaction"},l.a.createElement(_.a,{className:"gutter-row blockexplorer__blockTransaction-col",lg:11,md:24,sm:24,xs:24},l.a.createElement(b.a,null,l.a.createElement(_.a,{span:12},l.a.createElement("h2",{className:"heading-primary"},"BLOCKS")),l.a.createElement(_.a,{span:12},l.a.createElement(G.a,{className:"u_float_right",onClick:function(){return t.viewAllBlocks()}},"View all"))),l.a.createElement("br",null),l.a.createElement("div",{className:"gutter-box"},this.state.loadingForBlock?l.a.createElement(x.a,null):l.a.createElement(f.a,{className:"blockexplorer__explorerTable",columns:Z.BlockTablecolumns,dataSource:this.state.blocksData.slice(0,5),pagination:!1,onRow:function(e){return{onClick:function(){t.selectedBlock(e)}}}}))),l.a.createElement(_.a,{className:"gutter-row",lg:1,xs:24}),l.a.createElement(_.a,{className:"gutter-row blockexplorer__blockTransaction-col",lg:11,md:24,sm:24,xs:24},l.a.createElement(b.a,null,l.a.createElement(_.a,{span:12},l.a.createElement("h2",{className:"heading-primary"},"TRANSACTIONS")),l.a.createElement(_.a,{span:12},l.a.createElement(G.a,{className:"u_float_right",onClick:function(){return t.viewAllTransaction()}},"View all"))),l.a.createElement("br",null),l.a.createElement("div",{className:"gutter-box"},this.state.loadingForTransaction?l.a.createElement(x.a,null):l.a.createElement(f.a,{className:"blockexplorer__explorerTable",dataSource:this.state.transactions.slice(0,5),columns:Z.listcolumns,pagination:!1,onRow:function(e){return{onClick:function(){t.selectedTransaction(e)}}}})))))}}]),e}(l.a.Component);var tt=Object(p.b)(function(t){return Object(m.a)({},t,{blocks:t.blockExplorer.Blocks,transactions:t.blockExplorer.Transactions,transactionGraph:t.blockExplorer.TransactionGraph,chainTransaction:t.blockExplorer.chainTransactions})},{getBlocks:z,getTransactions:X,getTransactionData:$,getTransactionsGraph:J,getChainTransaction:q})(Object(d.a)(Q)),et=a(38),at=(a(695),a(236)),nt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).updateDimensions=a.updateDimensions.bind(Object(et.a)(Object(et.a)(a))),a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"setRole",value:function(t){at.setRole(t)}},{key:"render",value:function(){return l.a.createElement(b.a,{type:"flex",justify:"center",align:"middle"},l.a.createElement("label",null," Select Your Role"),l.a.createElement(b.a,null,l.a.createElement(_.a,null,l.a.createElement(G.a,{type:"primary",onClick:this.setRole(at.SELLER)},at.SELLER))),l.a.createElement(_.a,null))}}]),e}(l.a.Component),rt=Object(d.a)(nt),ot=a(816),st=(a(697),a(15)),it=a(236),ct=v.a.getBlocks,lt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).selectRow=function(t){a.props.history.push(h.a.BLOCKDETAIL+"?block="+t.blockno,{selectedRecord:t}),S.f()},a.onChange=function(t){var e=st.BLOCKS_URL+"?startIndex="+t;a.setState({current:t}),a.setState({loading:!0}),a.props.getBlocks(e),S.f()},a.state={loading:!1,current:1,blocksData:[]},a.tableData=a.tableData.bind(Object(et.a)(Object(et.a)(a))),a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this;O.c.addListener("block",function(e){t.fetchWebSocketData(e)}),this.setState({loading:!0}),this.props.getBlocks(st.BLOCKS_URL+"?startIndex="+this.state.current)}},{key:"fetchWebSocketData",value:function(t){if(1===this.state.current){var e=this.state.blocksData,a=[],n=[];for(var r in t.res.data.data)n.push({key:r,txnNo:t.res.data.data[r].payload.header.channel_header.tx_id,date:F()(t.res.data.data[r].payload.header.channel_header.timeStamp).format("DD/MM/YYYY")});for(var o in a.push({key:0,blockno:t.res.header.number,transaction:t.res.data.data.length,headerprev:t.res.header.previous_hash,headerdata:t.res.header.data_hash,date:F()(t.res.data.data[0].payload.header.channel_header.timeStamp).format("DD/MM/YYYY"),detail:n,others:t.res}),e.splice(0,0,a[0]),e)e[o].key=o;void 0!==a&&this.setState({blocksData:e},function(){})}else this.onChange(1)}},{key:"componentWillReceiveProps",value:function(t){if(t&&t.blocks&&t.blocks!==this.props.blocks){var e=[];if("GET_BLOCKS_ERROR_RESULT"!==t.blocks.type)for(var a in t.blocks){var n=[];for(var r in t.blocks[a].data.data)n.push({key:r,txnNo:t.blocks[a].data.data[r].payload.header.channel_header.tx_id,date:F()(t.blocks[a].data.data[r].payload.header.channel_header.timeStamp).startOf("day").fromNow()});e.push({key:a,blockno:t.blocks[a].header.number,transaction:t.blocks[a].data.data.length,headerprev:t.blocks[a].header.previous_hash,headerdata:t.blocks[a].header.data_hash,date:F()(t.blocks[a].data.data[0].payload.header.channel_header.timeStamp).startOf("day").fromNow(),detail:n,others:t.blocks[a]}),void 0!==e&&this.setState({blocksData:e},function(){}),this.setState({loading:!1})}else this.setState({loading:!1}),w.a.error("Block API Failed"),this.props.history.push(h.a.BLOCKEXPLORER),S.f()}}},{key:"tableData",value:function(){var t=this;return l.a.createElement(b.a,null,l.a.createElement(f.a,{className:"blocks-list__blocklistTable",dataSource:this.state.blocksData,columns:it.BlockListcolumns,pagination:!1,onRow:function(e){return{onClick:function(){t.selectRow(e)}}}}),l.a.createElement("br",null),l.a.createElement(b.a,{type:"flex",justify:"end"},l.a.createElement(ot.a,{current:this.state.current,onChange:this.onChange,total:it.LATEST_BLOCK_NO})))}},{key:"render",value:function(){return l.a.createElement("div",{className:"blocks-list"},l.a.createElement("h1",{className:"heading-primary"},"BLOCKS"),l.a.createElement(b.a,null,this.state.loading?l.a.createElement(x.a,{className:"blocks-list__verticalcenter"}):this.tableData()))}}]),e}(l.a.Component);var dt=Object(p.b)(function(t){return Object(m.a)({},t,{blocks:t.blockExplorer.Blocks})},{getBlocks:ct})(Object(d.a)(lt)),ut=(a(699),a(236)),ht=v.a.getBlockTransaction,mt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).getUrlParam=function(t){var e;return window.location.href.indexOf(t)>-1&&(e=a.getUrlVars()[t]),e},a.getUrlVars=function(){var t={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,n){t[a]=n}),t},a.state={showHeader:!1,transactionDetails:[],loadingForTransaction:!1},a.selectedRecord=a.selectedRecord.bind(Object(et.a)(Object(et.a)(a))),a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.setState({loadingForTransaction:!0});var t=this.getUrlParam("txn");this.props.getBlockTransaction({txn:t})}},{key:"componentWillReceiveProps",value:function(t){if(t&&t.transactionDetails&&t.transactionDetails!==this.props.transactionDetails){var e=[],a=(""+t.transactionDetails.obj.transactionType).split("."),n=(""+t.transactionDetails.obj.participantInvoking).split("#")[1];e.push({key:0,txnNo:t.transactionDetails.obj.transactionId,type:a[a.length-1],participant:n,eventcount:t.transactionDetails.obj.eventsEmitted.length,event:t.transactionDetails.obj.eventsEmitted,others:t.transactionDetails.obj}),void 0!==e&&this.setState({transactionDetails:e},function(){}),this.setState({loadingForTransaction:!1})}}},{key:"selectedRecord",value:function(t){var e={pathname:"/receipts",state:{receiptId:t.rId}};this.props.history.push(e),S.f()}},{key:"selectedTransaction",value:function(t){var e={pathname:"/receipts",state:{receiptId:t.rId}};this.props.history.push(e),S.f()}},{key:"render",value:function(){var t=this,e=[],a=[],n=this.state.transactionDetails;for(var r in n){if(n[r].event.length>0)for(var r in n[r].event)if("param.network.model.onStatusChanged"===n[r].event[r].$class){var o=""+n[r].event[r].buyer,s=""+n[r].event[r].seller,i=o.split("#")[1],c=s.split("#")[1];e.push({key:r,buyer:i,seller:c,rId:n[r].event[r].receiptId,step:n[r].event[r].step,status:n[r].event[r].status,class:n[r].event[r].$class})}if(n[r].others){var d=Object.entries(n[r].others);for(var r in d)"eventsEmitted"!==d[r][0]&&a.push({key:r,headerkey:d[r][0],value:d[r][1]})}}return l.a.createElement("div",{className:"transaction-details"},this.state.loadingForTransaction?l.a.createElement(x.a,null):l.a.createElement("div",null,l.a.createElement("h2",null,"Metadata"),l.a.createElement(b.a,null,l.a.createElement(_.a,{span:24},l.a.createElement(f.a,Object.assign({className:"transaction-details__metadata"},this.state,{columns:ut.transInfoColumn,dataSource:a,pagination:!1})))),e.length>0?l.a.createElement("div",{className:"transaction-details__eventTable"},l.a.createElement("h2",null,"Param Transaction Events"),l.a.createElement(f.a,{className:"transaction-details__paramTable",columns:ut.transactionDetailColumn,dataSource:e,onRow:function(e){return{onClick:function(){t.selectedRecord(e)}}}})):null))}}]),e}(l.a.Component);var pt=Object(p.b)(function(t){return Object(m.a)({},t,{transactionDetails:t.blockExplorer.Blocktransaction})},{getBlockTransaction:ht})(Object(d.a)(mt)),bt=(a(701),a(236)),ft=a(15),vt=v.a.getBlocks,kt=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).getUrlParam=function(t){var e;return window.location.href.indexOf(t)>-1&&(e=a.getUrlVars()[t]),e},a.getUrlVars=function(){var t={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,n){t[a]=n}),t},a.selectedTransaction=function(t){"(No hash)"!==t.txnNo&&a.props.history.push(h.a.TRANSACTION_DETAILS+"?txn="+t.txnNo),S.f()},a.state={blockNo:"",showHeader:!1,loading:!1,headerMetaInfo:[],metaInfo:[],tableData:[]},a}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this.getUrlParam("block");this.setState({blockNo:t,loading:!1,selectedData:[]}),this.checkPropsData(t)}},{key:"componentWillReceiveProps",value:function(t){if(t&&t.blocks&&t.blocks!==this.props.blocks)if("GET_BLOCKS_ERROR_RESULT"!==t.blocks.type){var e=[],a=[];for(var n in t.blocks.obj.data.data)a.push({key:n,txnNo:t.blocks.obj.data.data[n].payload.header.channel_header.tx_id?t.blocks.obj.data.data[n].payload.header.channel_header.tx_id:"(No hash)",date:F()(t.blocks.obj.data.data[n].payload.header.channel_header.timeStamp).startOf("day").fromNow()});if(e.push({key:0,blockno:t.blocks.obj.header.number,transaction:t.blocks.obj.data.data.length,date:F()(t.blocks.obj.data.data[0].payload.header.channel_header.timeStamp).startOf("day").fromNow(),detail:a,others:t.blocks.obj}),void 0!==e){var r=e[0];this.generateData(r.others.metadata.metadata,r.others.header,r.detail)}this.setState({loading:!1})}else this.setState({loading:!1}),w.a.error("Block Detail API Failed"),this.props.history.push(h.a.BLOCKEXPLORER),S.f()}},{key:"generateData",value:function(t,e,a){var n=[],r=[];Object.entries(e).map(function(t){var e=0;n.push({key:e++,headerkey:t[0],value:t[1]?t[1]:"(No hash)"})}),t.map(function(t){if(!Array.isArray(t)&&t.signatures.length>0){var e=Object.entries(t.signatures[0].signature_header.creator);for(var a in e){var n=e[a][0],o=e[a][1];"IdBytes"===n&&(o=o.substring(0,200)),r.push({key:a,headerkey:n,value:o})}}}),this.setState({headerMetaInfo:n,metaInfo:r,tableData:a})}},{key:"checkPropsData",value:function(t){try{if(void 0!==this.props.location.state.selectedRecord.others.header&&void 0!==this.props.location.state.selectedRecord.others.metadata.metadata&&void 0!==this.props.location.state.selectedRecord.detail)return void this.generateData(this.props.location.state.selectedRecord.others.metadata.metadata,this.props.location.state.selectedRecord.others.header,this.props.location.state.selectedRecord.detail)}catch(e){this.setState({loading:!0}),this.props.getBlocks(ft.BLOCK_URL+"?blockno="+t)}}},{key:"render",value:function(){var t=this;return l.a.createElement("div",{className:"blocks-details-list"},this.state.loading?l.a.createElement(x.a,null):l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement("div",null,l.a.createElement("h2",null,"Header Info"),l.a.createElement(f.a,Object.assign({},this.state,{columns:bt.transInfoColumn,dataSource:this.state.headerMetaInfo,pagination:!1})))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a,null,l.a.createElement("div",null,l.a.createElement("h2",null,"Transactions Info"),l.a.createElement(f.a,{className:"blocks-details-list__listTable",columns:bt.blockDetailColumn,dataSource:this.state.tableData,pagination:!1,onRow:function(e){return{onClick:function(){t.selectedTransaction(e)}}}}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a,null,l.a.createElement("div",null,l.a.createElement("h2",null,"Metadata"),l.a.createElement(f.a,Object.assign({},this.state,{className:"blocks-details-list__MetaInfoTable",columns:bt.blockInfoColumn,dataSource:this.state.metaInfo,pagination:!1}))))))}}]),e}(l.a.Component);var Et=Object(p.b)(function(t){return Object(m.a)({},t,{blocks:t.blockExplorer.Blocks})},{getBlocks:vt})(Object(d.a)(kt)),yt=a(248),gt=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){O.b()}},{key:"render",value:function(){return l.a.createElement("div",{className:"blockexplorer "},this.props.location.pathname.includes(h.a.BLOCKEXPLORER)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block explorer"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(L,null),l.a.createElement(tt,null))):this.props.location.pathname.includes(h.a.BLOCKLIST)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block explorer"},{name:"block"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(dt,null))):this.props.location.pathname.includes(h.a.RECEIPTDETAILS)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block explorer"},{name:"transactions"},{name:"transaction details"},{name:"receipt-details"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(g,null))):this.props.location.pathname.includes(h.a.TRANSACTIONS)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block explorer"},{name:"transactions"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(N,null))):this.props.location.pathname.includes(h.a.TRANSACTION_DETAILS)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block explorer"},{name:"transactions"},{name:"transaction details"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(pt,null))):this.props.location.pathname.includes(h.a.BLOCKDETAIL)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block explorer"},{name:"block"},{name:"block details"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(Et,null))):this.props.location.pathname.includes(h.a.PROFILE)?l.a.createElement("div",null,l.a.createElement(yt.a,{breadcrumbData:[{name:"block-explorer"},{name:"block"},{name:"block-details"}]}),l.a.createElement("div",{className:"blockexplorer__content"},l.a.createElement(rt,null))):null)}}]),e}(u.a);e.default=Object(d.a)(gt)}}]);
//# sourceMappingURL=4.c0e64856.chunk.js.map